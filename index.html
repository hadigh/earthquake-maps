<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time-Series Plot</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

    <h2>Select a Station:</h2>
    <select id="stationDropdown" onchange="updatePlot()">
        <option value="1">Station 1</option>
        <option value="2">Station 2</option>
        <option value="3">Station 3</option>
        <!-- Add more stations as needed -->
    </select>

    <div id="plot" style="width: 80%; height: 500px;"></div>

    <script>
        function loadTimeSeriesData(file, plotId, column) {
            fetch(file)
                .then(response => response.text())
                .then(csvText => {
                    let rows = csvText.trim().split("\n").map(row => row.split(","));
                    let headers = rows.shift(); // Remove header row

                    let x = rows.map(row => parseFloat(row[0])); // First column is time
                    let y = rows.map(row => parseFloat(row[column])); // Convert to numbers

                    console.log('Time data:', x);
                    console.log('Velocity data:', y);

                    if (y.some(isNaN)) {
                        console.error('Invalid data found in y array:', y);
                        return; // Stop if there are NaN values
                    }

                    // Find the maximum value and its index
                    let maxIndex = y.indexOf(Math.max(...y));
                    let maxValue = y[maxIndex];

                    console.log('Max value:', maxValue);
                    console.log('Max index:', maxIndex);

                    const trace = { x: x, y: y, mode: 'lines', name: 'Time-Seri
